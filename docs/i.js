new AudioContext;const t={t:'"Courier New", monospace',i:"Arial, sans-serif",h:'"Times New Roman", serif',o:60,l:"js13k 2025: Black Cat",u:!0,get w(){return Math.round(t.m.M.width/t.m.scale)},get p(){return Math.round(t.m.M.height/t.m.scale)},init(){t.P.init(),t.m.init(),t.m.level=new t._,t.m.T()},v(t){for(let s=t.length-1;s>0;s--){const i=Math.floor(Math.random()*(s+1));[t[s],t[i]]=[t[i],t[s]]}}};window.addEventListener("load",()=>t.init()),t.m={M:null,I:null,level:null,cursor:[-1,-1],C:!1,S:0,k:0,O:[0,0],offset:[0,0],scale:1,clear(){this.I.setTransform(1,0,0,1,0,0),this.I.clearRect(0,0,this.M.width,this.M.height)},draw(){this.clear(),this.I.setTransform(this.scale,0,0,this.scale,0,0),this.level?.draw(this.I)},A(){this.I.setTransform(this.scale,0,0,this.scale,0,0),this.I.fillStyle="#0006",this.I.fillRect(0,0,this.M.width/this.scale,this.M.height/this.scale),this.I.fillStyle="#fff",this.I.font="600 56px "+t.i,this.I.textAlign="center",this.I.textBaseline="top",this.I.fillText("PAWSED",this.O.x,this.O.y-56)},F(s,i){const h=document.createElement("canvas");h.width=s,h.height=i;const e=h.getContext("2d",{alpha:!0});return e.imageSmoothingEnabled=t.u,[h,e]},D(){return[this.cursor[0]/this.scale,this.cursor[1]/this.scale]},init(){[this.M,this.I]=this.F(),document.body.append(this.M),this.N(),this.resize()},T(s=0){if(s&&this.S){const i=(s-this.S)/(1e3/t.o);if(this.I.imageSmoothingEnabled=t.u,this.C)return void this.A();this.k+=i,this.level.update(i),this.draw(),this.I.fillStyle="#fff",this.I.font="600 12px "+t.t,this.I.textAlign="left",this.I.fillText(String(Math.round(t.o/i)).padStart(3,"0")+" FPS, "+this.scale.toFixed(5),10,20)}this.S=s,requestAnimationFrame(t=>this.T(t))},pause(){this.C=!0},N(){window.addEventListener("resize",t=>this.resize()),this.resize(),t.P.R("Escape",()=>this.B()),this.M.addEventListener("mouseleave",t=>{this.cursor[0]=-1}),this.M.addEventListener("mousemove",t=>{this.cursor[0]=t.clientX-this.offset[0],this.cursor[1]=t.clientY-this.offset[1],this.level?.L(this.D())}),this.M.addEventListener("click",t=>{this.cursor[0]=t.clientX-this.offset[0],this.cursor[1]=t.clientY-this.offset[1],this.level?.H(this.D())})},resize(){const t=1920/1080;let s=window.innerHeight,i=Math.round(s*t);i>window.innerWidth&&(i=window.innerWidth,s=i/t),this.scale=s/1080,this.O.x=i/2/this.scale,this.O.y=s/2/this.scale,this.offset[0]=(window.innerWidth-i)/2,this.offset[1]=(window.innerHeight-s)/2,this.M.width=i,this.M.height=s,this.C&&(clearTimeout(this.K),this.K=setTimeout(()=>this.A(),100))},B(){this.C?this.unpause():this.pause()},unpause(){this.C&&(this.C=!1,this.T())}},t.Audio={context:new AudioContext,async play(t,s){const i=await this.context.decodeAudioData(t.buffer.slice()),h=this.context.createGain();h.connect(this.context.destination),h.gain.value=s?.volume||.5;const e=this.context.createBufferSource();e.buffer=i,e.connect(h),e.loop=!1,e.start()},W:new Uint8Array([255,243,132,196,0,0,0,0,0,0,0,0,0,88,105,110,103,0,0,0,15,0,0,0,26,0,0,3,192,0,8,8,8,16,16,16,16,32,32,32,32,40,40,40,40,56,56,56,56,72,72,72,72,80,80,80,96,96,96,96,104,104,104,104,120,120,120,120,136,136,136,136,144,144,144,144,152,152,152,160,160,160,160,168,168,168,168,176,176,176,176,184,184,184,184,192,192,192,192,200,200,200,200,208,208,208,216,216,216,216,224,224,224,224,232,232,232,232,240,240,240,240,248,248,248,248,255,255,255,0,0,0,57,76,65,77,69,51,46,49,48,48,2,30,0,0,0,0,0,0,0,0,20,8,36,3,200,34,0,0,8,0,0,3,192,229,212,162,251,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,243,20,196,0,2,128,6,80,0,0,132,0,88,62,250,4,255,229,63,63,254,32,201,255,243,20,196,1,2,168,190,152,0,0,68,160,7,22,70,255,255,169,133,167,252,186,111,255,243,36,196,1,6,49,30,160,40,3,206,193,7,200,74,210,255,55,255,246,83,197,64,32,35,27,9,13,255,253,88,108,53,27,158,94,56,0,48,81,127,252,249,205,216,193,49,255,243,20,196,11,5,96,202,188,0,1,88,200,48,63,16,203,108,245,12,1,144,104,202,255,243,36,196,0,6,57,6,180,0,1,218,177,231,158,32,5,234,233,255,247,112,120,36,3,192,128,64,0,176,36,83,255,234,156,70,254,55,96,64,36,3,132,153,127,144,210,127,255,243,36,196,10,6,73,14,216,120,0,76,173,245,66,87,155,9,175,255,255,133,230,230,214,145,193,185,42,106,210,37,3,182,73,5,156,241,185,46,114,155,86,95,175,52,51,255,255,243,20,196,19,6,80,206,208,120,3,78,167,240,200,193,142,38,185,170,12,82,128,100,255,243,36,196,4,6,8,210,180,88,3,94,206,241,74,153,53,15,255,208,122,81,132,232,127,190,62,29,5,187,158,33,10,213,12,67,224,98,168,63,101,109,255,245,59,50,73,7,255,243,20,196,14,6,17,34,164,88,3,68,209,65,58,127,164,253,31,138,28,88,118,213,255,243,36,196,0,6,25,34,180,88,3,78,195,28,194,128,86,62,129,206,112,93,191,254,170,62,97,200,4,136,127,111,111,83,134,195,97,74,8,143,12,59,224,186,140,214,70,154,255,243,36,196,10,5,216,210,144,80,4,222,204,127,254,203,69,42,5,50,39,28,176,38,77,242,85,38,29,195,214,182,255,255,240,80,70,196,144,79,95,255,255,128,53,42,168,58,255,243,20,196,21,2,128,206,168,32,3,88,204,20,191,255,255,145,125,85,12,102,7,138,255,243,20,196,22,2,8,206,176,0,1,210,204,127,255,250,145,136,200,149,136,128,5,255,255,243,20,196,24,2,8,206,176,0,3,86,204,255,245,97,18,136,2,183,255,255,226,234,255,243,20,196,26,2,144,202,176,32,2,146,204,12,33,66,255,255,255,168,138,68,51,224,255,243,20,196,26,1,248,202,192,0,1,76,204,102,253,127,255,241,172,33,127,255,254,153,255,243,20,196,29,1,144,198,200,0,1,68,192,60,253,6,134,244,2,40,47,235,255,254,255,243,20,196,33,1,224,198,196,40,1,68,192,161,24,183,255,179,47,175,84,66,42,70,255,243,20,196,36,3,233,38,148,0,4,26,192,96,224,45,255,203,152,255,213,8,197,191,255,243,20,196,31,4,137,38,220,120,1,198,214,255,254,64,226,85,71,14,36,239,252,87,255,243,20,196,23,2,56,102,200,48,0,12,20,254,177,85,216,66,191,253,110,79,223,44,255,243,20,196,25,1,208,190,180,0,1,196,192,40,255,43,135,127,239,254,68,147,4,85,255,243,20,196,28,2,32,94,184,8,0,4,18,22,255,226,194,226,191,138,138,11,126,42,255,243,20,196,30,2,56,94,148,0,0,68,160,76,65,77,69,51,46,49,48,48,170,170,255,243,20,196,32,2,88,2,140,0,0,0,0,170,170,170,170,170,170,170,170,170,170,170,255,243,20,196,33,2,184,1,204,0,8,0,0,170,170,170,170,170,170,170,170,170,170,170])},t.P={G:{},U:{},J:{},init(){document.body.onkeydown=t=>{const s=this.J[t.code];s&&s.$||(this.J[t.code]={time:Date.now()},this.G[t.code]&&this.G[t.code].forEach(t=>t()))},document.body.onkeyup=t=>{this.J[t.code]={time:0},this.U[t.code]&&this.U[t.code].forEach(t=>t())}},X(t,s){for(const i of t)if(this.j(i,s))return!0;return!1},j(t,s){const i=this.J[t];return!(!i||!i.time)&&(s&&(i.time=0,i.$=!0),!0)},q(t,s){const i=this.G[t]||[];i.push(s),this.G[t]=i},R(t,s){const i=this.U[t]||[];i.push(s),this.U[t]=i}},t.Y=class{constructor(t,s=0){this.level=t,this.set(s)}V(){return this.level.k>this.timeEnd}Z(){return Math.min(1,1-(this.timeEnd-this.level.k)/this.duration)}set(s){this.duration=s*t.o,this.timeEnd=this.level.k+this.duration}},t.tt=class{st=!0;constructor(s,i,h){this.level=s,this.w=i,this.p=h,[this.M,this.I]=t.m.F(i,h)}it(){return(t.w-this.w)/2}draw(t){}update(t){}},t.Animation=class{constructor(s,i,h){this.k=new t.Y(t.m.level,s),this.ht=i,this.et=h}nt(){this.k&&(this.k.V()?(this.et(),this.k=null):this.ht(this.k.Z()))}},t.ot=class{static rt=1;static ct=2;static ft=3;constructor(t,s,i,h=100,e=100){this.id=t,this.x=s,this.y=i,this.w=h,this.p=e,this.M,this.I}draw(s){if(!this.M)if([this.M,this.I]=t.m.F(this.w,this.p),this.id==t.ot.rt)this.I.fillStyle="#000",this.I.font="600 20px "+t.i,this.I.textAlign="center",this.I.textBaseline="middle",this.I.fillText("Open Shop!",this.w/2,this.p/2);else if(this.I.fillStyle="#000",this.I.strokeStyle="#fff",this.I.lineWidth=3,this.I.beginPath(),this.I.arc(this.w/2,this.p/2,this.w/2-2,0,2*Math.PI),this.I.fill(),this.I.stroke(),this.id==t.ot.ct){const t=this.w/3;this.I.fillStyle="#1e61ad",this.I.beginPath(),this.I.moveTo(t-10,50),this.I.lineTo(2*t+6,50),this.I.lineTo(t+7,this.p-18),this.I.lineTo(t-16,this.p-40),this.I.closePath(),this.I.fill(),this.I.save(),this.I.translate(this.w/2,this.p/2),this.I.rotate(45*Math.PI/180),this.I.translate(-this.w/2,-this.p/2),this.I.beginPath(),this.I.moveTo(t,this.p-20),this.I.lineTo(2*t,this.p-20),this.I.lineTo(2*t,35),this.I.lineTo(1.7*t,35),this.I.lineTo(1.7*t,15),this.I.lineTo(1.3*t,15),this.I.lineTo(1.3*t,35),this.I.lineTo(t,35),this.I.closePath(),this.I.fillStyle="#ffffff3f",this.I.fill(),this.I.stroke(),this.I.fillStyle="#70430f",this.I.fillRect(1.3*t+1.5,9,.4*t-3,12),this.I.restore()}else this.id==t.ot.ft&&(this.I.beginPath(),this.I.arc(this.w/2,this.p/2,this.w/2-25,.75*Math.PI,1.5*Math.PI),this.I.moveTo(this.w/2-8,15),this.I.lineTo(this.w/2+2,25),this.I.lineTo(this.w/2-8,35),this.I.stroke(),this.I.beginPath(),this.I.arc(this.w/2,this.p/2,this.w/2-25,1.75*Math.PI,Math.PI/2),this.I.moveTo(this.w/2+8,this.p-15),this.I.lineTo(this.w/2-2,this.p-25),this.I.lineTo(this.w/2+8,this.p-35),this.I.stroke());let i=null;this.id==t.ot.rt?this.x=(t.w-this.w)/2:this.id==t.ot.ct?(this.x=t.w-200,this.y=(t.p-100)/2,i="Finish Potion"):this.id==t.ot.ft&&(this.x=(t.w-100)/2,this.y=t.p/2+280,i="Start Over"),s.globalAlpha=this.id==t.ot.rt||this.lt?1:.4,s.drawImage(this.M,this.x,this.y),s.globalAlpha=1,this.lt&&t._.dt(s,i,this.x+this.w/2,this.y+this.p+10)}},t._=class{constructor(){this.k=0,this.ut=1,this.wt=0,this.Mt=[],this.gt=[],this.yt=[],this.Pt=null,this._t=[],this.xt=new t.ot(t.ot.rt,0,340,200,40),this.Tt=new t.ot(t.ot.ct),this.vt=new t.ot(t.ot.ft),this.It=new t.Ct(this),this.St=new t.kt(this),this.Ot=new t.bt(this)}At(t){this.Tt.draw(t),this.vt.draw(t)}Et(t){t.fillStyle="#683f24",t.fillRect(80,580,420,25);for(let s=0;s<this._t.length;s++){this._t[s].draw(t)}}Ft(s){s.fillStyle="#0000004f",s.fillRect(0,0,t.w,t.p);const i=(t.w-600)/2;s.fillStyle="#fff",s.fillRect(i,200,600,200),s.fillStyle="#000",s.textAlign="left",s.font="500 16px "+t.i,s.textBaseline="top",s.fillText("Welcome to the opening of Black Cat Potions!",i+10,210),s.fillText("Do not let your score drop below 1 or you can close your business again.",i+10,226),s.fillText("You have the ingredients, but alas! no recipe book.",i+10,242),this.xt.draw(s)}Dt(s){if(!this.Pt)return;const i=t.w-350-40,h=200,e=this.Pt.Nt;s.fillStyle="#000",s.strokeStyle="#ff0",s.lineWidth=2,s.beginPath(),s.roundRect(i,h,350,120,4),s.fill(),s.stroke();const n=this.Pt.k.Z();s.fillStyle="#ff0",s.beginPath(),s.roundRect(i,h,350*(1-n),20,[4,0,0]),s.fill(),s.fillStyle="#fff",s.textAlign="left",s.font="italic 600 24px "+t.h,s.fillText(this.Pt.Rt,i+20,240),e._t.length>0&&(s.font="500 20px "+t.i,s.fillText("Ingredients: "+e._t.length,i+20,280))}Bt(s){s.fillStyle="#ff0",s.strokeStyle="#ff0",s.lineWidth=6;let i=String(10*Math.abs(this.ut)).padStart(6,"0");this.ut<0&&(i="-"+i),s.textAlign="right",s.textBaseline="top",s.font="600 48px "+t.t,s.fillText(i,t.w-40,40)}Lt(s){const i={};for(const s in t.zt){const h=t.zt[s],e=h._t.length;i[e]??=[],i[e].push(h)}const h=[];if(1==s){h.push(t.zt.Ht,t.zt.Ht);for(let t=0;t<8;t++){const t=Math.round(Math.random()*(i[1].length-1)),s=i[1][t];h.push(s)}}else if(2==s){h.push(t.zt.Ht);for(let t=0;t<3;t++){const t=Math.round(Math.random()*(i[1].length-1)),s=i[1][t];h.push(s)}for(let t=0;t<6;t++){const t=Math.round(Math.random()*(i[2].length-1)),s=i[2][t];h.push(s)}}else if(3==s){h.push(t.zt.Ht);for(let t=0;t<2;t++){const t=Math.round(Math.random()*(i[1].length-1)),s=i[1][t];h.push(s)}for(let t=0;t<3;t++){const t=Math.round(Math.random()*(i[2].length-1)),s=i[2][t];h.push(s)}for(let t=0;t<4;t++){const t=Math.round(Math.random()*(i[3].length-1)),s=i[3][t];h.push(s)}}return t.v(h),h.map(t=>({Nt:t,Kt:90-15*this.wt}))}Wt(t){this.Ot.Gt(t)}Ut(s){this.wt!=s&&(this.wt=s,this._t=[],s>=1&&this._t.push(t.Jt,t.$t,t.Xt,t.jt),s>=2&&this._t.push(t.Xt),s>=3&&this._t.push(t.jt),this.Mt=this.Lt(s),this.qt())}draw(t){this.It.draw(t),this.Ot.draw(t),this.St.draw(t),this.Bt(t),this.Dt(t),this.Et(t),this.At(t),0==this.wt&&this.Ft(t)}static dt(s,i,h,e){s.save(),s.shadowBlur=30,s.shadowColor="#000",s.fillStyle="#fff",s.font="italic 600 32px "+t.h,s.textAlign="center",s.textBaseline="top",s.fillText(i,h,e),s.restore()}Yt(s){if(!s)return null;const i=s.length;if(0==i)return t.zt.Ht;for(const h in t.zt){const e=t.zt[h];if(e._t.length!=i)continue;let n=0;for(const t of e._t)s.includes(t)&&n++;if(n==i)return e}return null}Qt(t,s){return t[0]>=s.x&&t[0]<=s.x+s.w&&t[1]>=s.y&&t[1]<=s.y+s.p}qt(){this.Pt=this.Mt.splice(0,1)[0];const s=Math.round(Math.random()*(this.Pt.Nt.Rt.length-1));this.Pt.Rt=this.Pt.Nt.Rt[s],this.Pt.k=new t.Y(this,this.Pt.Kt)}H(t){if(!this.Vt)if(0!=this.wt){if(this.Qt(t,this.Tt))return this.Zt(this.Ot.ts),void this.Ot.ss([]);if(this.Qt(t,this.vt))this.Ot.ss([]);else for(let s=0;s<this._t.length;s++){const i=this._t[s];if(this.Qt(t,i))return void this.Wt(i)}}else this.Qt(t,this.xt)&&this.Ut(1)}L(t){if(0==this.wt)return;this.Tt.lt=!1,this.vt.lt=!1;let s=!1;for(let i=0;i<this._t.length;i++){const h=this._t[i];h.lt=!1,!s&&this.Qt(t,h)&&(s=!0,h.lt=!0)}!s&&this.Qt(t,this.Tt)&&(s=!0,this.Tt.lt=!0),!s&&this.Qt(t,this.vt)&&(s=!0,this.vt.lt=!0)}hs(t){if(!t)return-1;if(this.Pt.Nt==t)return 1;return(this.Pt.Nt.es||[]).includes(t)?0:-1}update(t){this.k+=t,this.Pt?.k?.V()&&this.Zt(),6==this.gt.length?this.Ut(2):12==this.gt.length&&this.Ut(3),this.ut,this.It.update(this.k),this.Ot.update(this.k),this.St.update(this.k)}Zt(t){const s=this.Yt(t),i=this.hs(s);this.ut+=i,this.Pt.ut=i,i>0?this.gt.push(this.Pt):i<0&&this.yt.push(this.Pt),0==this.Mt.length&&(this.Mt=this.Lt(this.wt)),this.qt()}},t.Ct=class extends t.tt{static ns=1;constructor(s){super(s,800,800),this.offsetY=0,this.state=t.Ct.ns,this.M,this.I}rs(t){return(this.w-t)/2}cs(t){let s=260,i=this.rs(t)-20;this.I.fillStyle="#000",this.I.beginPath(),this.I.moveTo(i,s),this.I.lineTo(i,160),this.I.lineTo(i+80,s),this.I.closePath(),this.I.fill(),this.I.beginPath(),this.I.moveTo(this.w-i,s),this.I.lineTo(this.w-i-80,s),this.I.lineTo(this.w-i,160),this.I.closePath(),this.I.fill()}fs(t){let s=this.rs(t);const i=t/2;let h=410;this.I.strokeStyle="#000",this.I.lineWidth=6,this.I.beginPath(),this.I.moveTo(s,h),this.I.lineTo(s-100,400),this.I.moveTo(s,420),this.I.lineTo(s-100,420),this.I.moveTo(s,430),this.I.lineTo(s-100,440),this.I.moveTo(this.w-s,h),this.I.lineTo(this.w-s+100,400),this.I.moveTo(this.w-s,420),this.I.lineTo(this.w-s+100,420),this.I.moveTo(this.w-s,430),this.I.lineTo(this.w-s+100,440),this.I.stroke();this.I.strokeStyle="#fff",this.I.lineWidth=4,this.I.beginPath(),this.I.ellipse(s+i-22,440,22,16,0,0,.9*Math.PI),this.I.stroke(),this.I.beginPath(),this.I.ellipse(s+i+22,440,22,16,0,.1*Math.PI,Math.PI),this.I.stroke();let e=380,n=40,o=30;this.I.fillStyle="#ff0",this.I.beginPath(),this.I.ellipse(s+.15*t,e,n,o,0,0,2*Math.PI),this.I.ellipse(s+.85*t,e,n,o,0,0,2*Math.PI),this.I.fill(),n=35,o=25,this.I.fillStyle="#000",this.I.beginPath(),this.I.ellipse(s+.16*t,390,n,o,0,0,2*Math.PI),this.I.ellipse(s+.84*t,390,n,o,0,0,2*Math.PI),this.I.fill()}ls(){let t=220;this.I.fillStyle="#6a267a",this.I.beginPath(),this.I.moveTo(0,320),this.I.lineTo(150,t),this.I.lineTo(250,t),this.I.lineTo(320,20),this.I.lineTo(this.w-100,70),this.I.lineTo(this.w-300,120),this.I.lineTo(this.w-250,t),this.I.lineTo(this.w-150,t),this.I.lineTo(this.w,320),this.I.closePath(),this.I.fill(),this.I.fillStyle="#54245f",this.I.beginPath(),this.I.moveTo(240,250),this.I.lineTo(256,190),this.I.lineTo(this.w-260,190),this.I.lineTo(this.w-240,250),this.I.closePath(),this.I.fill()}draw(s){if(this.st){this.I.clearRect(0,0,this.w,this.p);const t=.4*this.w;this.I.fillStyle="#000",this.I.fillRect(this.rs(t),250,t,this.p-250),this.fs(t),this.ls(),this.cs(t)}s.drawImage(this.M,this.it(),t.p-this.level.Ot.p-this.p/2+this.offsetY)}update(s){this.state==t.Ct.ns&&(s*=.05,this.offsetY=4*Math.sin(s)),this.animation?.nt()}},t.kt=class extends t.tt{constructor(s){super(s,800,600),this.state=t.kt.ns,this.k=0,this.M,this.I}ds(){this.I.fillStyle="#111",this.I.beginPath(),this.I.ellipse(380,120,48,40,0,0,2*Math.PI),this.I.ellipse(this.w-340,160,48,40,0,0,2*Math.PI),this.I.fill()}draw(s){this.st&&(this.I.clearRect(0,0,this.w,this.p),this.I.fillStyle="#644e1e",this.I.fillRect(400,0,40,340),this.ds());let i=this.level.k/40,h=this.it()+200*Math.sin(i)-20,e=t.p-this.level.Ot.p-80+30*Math.cos(i);const n=h+this.w/2+20,o=e+this.p/2-170;s.translate(n,o),s.rotate(10*Math.sin(i)*Math.PI/180),s.translate(-n,-o),s.drawImage(this.M,h,e),s.setTransform(t.m.scale,0,0,t.m.scale,0,0)}},t.bt=class extends t.tt{constructor(s){super(s,800,650),this.M,this.I,this.ts=[],[this.us,this.ws]=t.m.F(.72*this.w,.28*this.p)}Ms(t,s,i){const h=(this.level.k+i)/25%4;if(this.I.lineWidth=3,this.I.lineCap="round",this.I.strokeStyle="#ffffff4f",this.I.beginPath(),h<3){const i=h/3;this.I.lineWidth*=i,this.I.arc(t,s,i*i*10,Math.PI,0)}else{const i=1-h+3;this.I.globalAlpha=i*i*i,this.I.moveTo(t,s-8),this.I.lineTo(t,s-18),this.I.moveTo(t-7,s-6),this.I.lineTo(t-15,s-13),this.I.moveTo(t+7,s-6),this.I.lineTo(t+15,s-13)}this.I.stroke(),this.I.globalAlpha=1}gs(){const t=this.us.width,s=this.us.height,i=t/2,h=s/2;this.ws.clearRect(0,0,t,s);let e="#2d7feb";const n=this.ts.length;n>0&&(e=this.ts[n-1].ps),this.ws.fillStyle=e,this.ws.beginPath(),this.ws.ellipse(t/2,s/2,i,h,0,0,2*Math.PI),this.ws.fill()}Gt(t){this.ts.push(t),this.st=!0}draw(s){this.I.clearRect(0,0,this.w,this.p);const i=this.w/2,h=.2*this.p+2,e=[0,0,2*Math.PI],n=this.I.createRadialGradient(i,h+.37*this.p,.14*this.p,i,h+.37*this.p,.82*this.p);n.addColorStop(0,"#666"),n.addColorStop(1,"#444"),this.I.strokeStyle="#444",this.I.lineWidth=4,this.I.fillStyle=n,this.I.beginPath(),this.I.ellipse(i,h+.33*this.p,.5*this.w,.47*this.p,...e),this.I.fill(),this.I.beginPath(),this.I.ellipse(i,h,.45*this.w,.2*this.p,...e),this.I.fill(),this.I.stroke(),this.I.fillStyle="#444",this.I.beginPath(),this.I.ellipse(i,h-.01*this.p,.39*this.w,.15*this.p,...e),this.I.fill(),this.gs(),this.I.save(),this.I.clip(),this.I.drawImage(this.us,i/2-90,h-.06*this.p),this.I.restore(),this.Ms(i-180,h+25,75),this.Ms(i-100,h+50,50),this.Ms(i-30,h+10,0),this.Ms(i+30,h+60,25),this.Ms(i+100,h+20,50),this.Ms(i+180,h+40,75),s.drawImage(this.M,this.it(),t.p-this.p+100)}ss(t){this.ts=t,this.st=!0}},t.Jt={name:"Fire Berries",ps:"#a81646",x:320,y:430,w:150,p:150,draw(s){if(!this.M){[this.M,this.I]=t.m.F(this.w,this.p),this.I.lineWidth=4,this.I.strokeStyle="#fff",this.I.beginPath(),this.I.moveTo(2,42),this.I.lineTo(2,this.p-2),this.I.lineTo(this.w-2,this.p-2),this.I.lineTo(this.w-2,42),this.I.lineTo(this.w-40,42),this.I.lineTo(this.w-40,12),this.I.lineTo(40,12),this.I.lineTo(40,42),this.I.closePath(),this.I.stroke(),this.I.fillStyle="#61401a",this.I.fillRect(42,0,this.w-84,52);const s=[[15,80],[35,90],[55,96],[75,96],[95,96],[115,90],[135,80],[15,100],[35,110],[55,116],[75,116],[95,116],[115,110],[135,100],[15,120],[35,130],[55,136],[75,136],[95,136],[115,130],[135,120],[17,136],[133,136],[25,85,.9],[50,90,.9],[80,100,.9],[105,95,.9],[130,85,.9],[20,105,.9],[40,108,.9],[63,112,.9],[98,114,.9],[120,106,.9],[22,125,.9],[42,135,.9],[67,132,.9],[85,125,.9],[110,135,.9],[135,128,.9]];for(let t=0;t<s.length;t++){const i=s[t];this.I.filter=`brightness(${i[2]||1})`,this.I.fillStyle="#a81646",this.I.beginPath(),this.I.arc(i[0],i[1],10,0,2*Math.PI),this.I.fill(),this.I.fillStyle="#ffffff17",this.I.beginPath(),this.I.arc(i[0]+4,i[1]-4,5,0,2*Math.PI),this.I.fill()}}s.drawImage(this.M,this.x,this.y),this.lt&&t._.dt(s,this.name,this.x+this.w/2,this.y+this.p+15)}},t.$t={name:"Shaved Ice",ps:"#649fa3",x:100,y:430,w:180,p:150,draw(s){this.M||([this.M,this.I]=t.m.F(this.w,this.p),this.I.fillStyle="#d3edee",this.I.beginPath(),this.I.ellipse(this.w/2,this.p/2+20,this.w/2-20,this.p/2-40,0,0,Math.PI,!0),this.I.fill(),this.I.fillStyle="#4d5b6e",this.I.beginPath(),this.I.ellipse(this.w/2,this.p/2+10,this.w/2,this.p/2,0,0,Math.PI),this.I.fill()),s.drawImage(this.M,this.x,this.y),this.lt&&t._.dt(s,this.name,this.x+this.w/2,this.y+this.p+15)}},t.Xt={name:"Dried Herbs",ps:"#074",x:140,y:0,w:500,p:240,ys(t,s,i,h){t.strokeStyle="#37460e",t.fillStyle="#adb639",t.lineWidth=2;for(let e=i;e<h;e+=20){let i=s,n=e/h;i-=n<.5?20*n:20*(1-n),t.beginPath(),t.moveTo(i,e),t.lineTo(i-30,e+20),t.moveTo(i,e),t.lineTo(i+30,e+20),t.stroke(),t.beginPath(),t.ellipse(i-25,e+18,5,7,Math.PI/4,0,2*Math.PI),t.ellipse(i+25,e+18,5,7,Math.PI/-4,0,2*Math.PI),t.fill()}t.strokeStyle="#305e25",t.lineWidth=4,t.beginPath(),t.moveTo(s,0),t.quadraticCurveTo(s-20,h/2,s,h),t.stroke()},draw(s){if(!this.M){[this.M,this.I]=t.m.F(this.w,this.p);const s=this.w/6;for(let t=1;t<7;t++){const i=this.p*(t%2?1:.8);this.I.filter=`brightness(${.8+.05*t})`,this.ys(this.I,s*t-40,t%2?-5:-15,i-30)}}s.drawImage(this.M,this.x,this.y),this.lt&&t._.dt(s,this.name,this.x+this.w/2,this.y+this.p)}},t.jt={name:"Mindshrooms",ps:"#8143a5",x:90,get y(){return t.p-this.p},w:440,p:200,Ps(t,s,i,h){const e=this.p-s;this.I.filter=`brightness(${h})`,this.I.fillStyle="#ddd",this.I.fillRect(t,this.p-s,i,s),this.I.fillStyle="#8143a5",this.I.beginPath(),this.I.ellipse(t+i/2,e,2*i,1.5*i,0,0,Math.PI,!0),this.I.fill()},draw(s){this.M||([this.M,this.I]=t.m.F(this.w,this.p),this.Ps(135,30,25,.65),this.Ps(260,20,25,.65),this.Ps(60,85,30,.85),this.Ps(190,70,50,.9),this.Ps(320,80,30,.95),this.Ps(30,40,10,1),this.Ps(110,45,20,1),this.Ps(230,35,20,1.1),this.Ps(360,25,15,1)),s.drawImage(this.M,this.x,this.y),this.lt&&t._.dt(s,this.name,this.x+this.w/2,this.y)}},t.zt={Ht:{name:"Just water",_t:[],Rt:["Just a water, please.","I'm thirsty."]},_s:{name:"Warming Potion",_t:[t.Jt],Rt:["Something to warm me up."]},xs:{name:"Cooling Potion",_t:[t.$t],Rt:["I am close to a heatstroke!"],get es(){return[t.zt.Ht]}},Ts:{name:"Health Drink",_t:[t.Xt],Rt:["Ugh, I feel sick..."]},vs:{name:"Calming Potion",_t:[t.$t,t.jt],Rt:["I need something to calm me down."]},Is:{name:"Refreshing Energizer",_t:[t.$t,t.Xt],Rt:["Just finished workout. Got an energizer?"]},Cs:{name:"Meditative Potion",_t:[t.Xt,t.jt],Rt:["I'm losing my connection to myself. Like I'm watching myself from behind."]},Ss:{name:"Tee-and-a-Blanket Potion",_t:[t.jt,t.Jt],Rt:["I had a really bad day..."],get es(){return[t.zt.Cs]}},ks:{name:"Amplitude Potion",_t:[t.$t,t.Jt,t.jt],Rt:["My emotions feel so... flat. I want to try how *more* feels like."]}};