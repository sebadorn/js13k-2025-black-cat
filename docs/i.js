new AudioContext;const t={t:'"Courier New", monospace',i:"Arial, sans-serif",h:'"Times New Roman", serif',o:60,u:"js13k 2025: Black Cat",l:!0,get w(){return Math.round(t.m.p.width/t.m.scale)},get M(){return Math.round(t.m.p.height/t.m.scale)},init(){t._.init(),t.m.init(),t.m.level=new t.S,t.m.v()},T:(t,s,i)=>t*(1-i)+s*i,N(){const t=localStorage.getItem("2025_sd.save");return t?JSON.parse(t):null},O(t){localStorage.setItem("2025_sd.save",JSON.stringify({level:t}))}};window.addEventListener("load",()=>t.init()),t.m={p:null,A:null,level:null,cursor:[-1,-1],F:!1,P:0,C:0,k:[0,0],offset:[0,0],scale:1,G:0,I:0,clear(){this.A.setTransform(1,0,0,1,0,0),this.A.clearRect(0,0,this.p.width,this.p.height)},draw(){this.clear(),this.A.setTransform(this.scale,0,0,this.scale,this.G,this.I),this.level?.draw(this.A)},K(){this.A.setTransform(this.scale,0,0,this.scale,0,0),this.A.fillStyle="#0006",this.A.fillRect(0,0,this.p.width/this.scale,this.p.height/this.scale),this.A.fillStyle="#fff",this.A.font="600 56px "+t.i,this.A.textAlign="center",this.A.textBaseline="top",this.A.fillText("PAWSED",this.k.x,this.k.y-56)},D(s,i){const h=document.createElement("canvas");h.width=s,h.height=i;const e=h.getContext("2d",{alpha:!0});return e.imageSmoothingEnabled=t.l,[h,e]},R(){return this.cursor.map(t=>t/this.scale)},init(){[this.p,this.A]=this.D(),document.body.append(this.p),this.U(),this.resize()},v(s=0){if(s&&this.P){const i=(s-this.P)/(1e3/t.o);if(this.A.imageSmoothingEnabled=t.l,this.F)return void this.K();this.C+=i,this.level.update(i),this.draw(),this.A.fillStyle="#fff",this.A.font="600 12px "+t.t,this.A.textAlign="left",this.A.fillText(String(Math.round(t.o/i)).padStart(3,"0")+" FPS, "+this.scale.toFixed(5),10,20)}this.P=s,requestAnimationFrame(t=>this.v(t))},pause(){this.F=!0},X(s,i,h=10){if(t.l)return;const e=s.width/h,a=s.height/h,[n,r]=this.D(e,a);r.clearRect(0,0,e,a),r.drawImage(s,0,0,e,a),i.clearRect(0,0,s.width,s.height),i.drawImage(n,0,0,s.width,s.height)},U(){window.addEventListener("resize",t=>this.resize()),this.resize(),t._.H("Escape",()=>this.J()),this.p.addEventListener("mouseleave",t=>{this.cursor[0]=-1}),this.p.addEventListener("mousemove",t=>{this.cursor[0]=t.clientX-this.offset[0],this.cursor[1]=t.clientY-this.offset[1]}),this.p.addEventListener("click",t=>{this.cursor[0]=t.clientX-this.offset[0],this.cursor[1]=t.clientY-this.offset[1],this.level?.L(...this.R())})},resize(){const t=1920/1080;let s=window.innerHeight,i=Math.round(s*t);i>window.innerWidth&&(i=window.innerWidth,s=i/t),this.scale=s/1080,this.k.x=i/2/this.scale,this.k.y=s/2/this.scale,this.p.width=i,this.p.height=s,this.F&&(clearTimeout(this.j),this.j=setTimeout(()=>this.K(),100))},J(){this.F?this.unpause():this.pause()},unpause(){this.F&&(this.F=!1,this.v())}},t.q={B:{W:new Uint8Array([255,243,132,196,0,0,0,0,0,0,0,0,0,88,105,110,103,0,0,0,15,0,0,0,26,0,0,3,192,0,8,8,8,16,16,16,16,32,32,32,32,40,40,40,40,56,56,56,56,72,72,72,72,80,80,80,96,96,96,96,104,104,104,104,120,120,120,120,136,136,136,136,144,144,144,144,152,152,152,160,160,160,160,168,168,168,168,176,176,176,176,184,184,184,184,192,192,192,192,200,200,200,200,208,208,208,216,216,216,216,224,224,224,224,232,232,232,232,240,240,240,240,248,248,248,248,255,255,255,0,0,0,57,76,65,77,69,51,46,49,48,48,2,30,0,0,0,0,0,0,0,0,20,8,36,3,200,34,0,0,8,0,0,3,192,229,212,162,251,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,243,20,196,0,2,128,6,80,0,0,132,0,88,62,250,4,255,229,63,63,254,32,201,255,243,20,196,1,2,168,190,152,0,0,68,160,7,22,70,255,255,169,133,167,252,186,111,255,243,36,196,1,6,49,30,160,40,3,206,193,7,200,74,210,255,55,255,246,83,197,64,32,35,27,9,13,255,253,88,108,53,27,158,94,56,0,48,81,127,252,249,205,216,193,49,255,243,20,196,11,5,96,202,188,0,1,88,200,48,63,16,203,108,245,12,1,144,104,202,255,243,36,196,0,6,57,6,180,0,1,218,177,231,158,32,5,234,233,255,247,112,120,36,3,192,128,64,0,176,36,83,255,234,156,70,254,55,96,64,36,3,132,153,127,144,210,127,255,243,36,196,10,6,73,14,216,120,0,76,173,245,66,87,155,9,175,255,255,133,230,230,214,145,193,185,42,106,210,37,3,182,73,5,156,241,185,46,114,155,86,95,175,52,51,255,255,243,20,196,19,6,80,206,208,120,3,78,167,240,200,193,142,38,185,170,12,82,128,100,255,243,36,196,4,6,8,210,180,88,3,94,206,241,74,153,53,15,255,208,122,81,132,232,127,190,62,29,5,187,158,33,10,213,12,67,224,98,168,63,101,109,255,245,59,50,73,7,255,243,20,196,14,6,17,34,164,88,3,68,209,65,58,127,164,253,31,138,28,88,118,213,255,243,36,196,0,6,25,34,180,88,3,78,195,28,194,128,86,62,129,206,112,93,191,254,170,62,97,200,4,136,127,111,111,83,134,195,97,74,8,143,12,59,224,186,140,214,70,154,255,243,36,196,10,5,216,210,144,80,4,222,204,127,254,203,69,42,5,50,39,28,176,38,77,242,85,38,29,195,214,182,255,255,240,80,70,196,144,79,95,255,255,128,53,42,168,58,255,243,20,196,21,2,128,206,168,32,3,88,204,20,191,255,255,145,125,85,12,102,7,138,255,243,20,196,22,2,8,206,176,0,1,210,204,127,255,250,145,136,200,149,136,128,5,255,255,243,20,196,24,2,8,206,176,0,3,86,204,255,245,97,18,136,2,183,255,255,226,234,255,243,20,196,26,2,144,202,176,32,2,146,204,12,33,66,255,255,255,168,138,68,51,224,255,243,20,196,26,1,248,202,192,0,1,76,204,102,253,127,255,241,172,33,127,255,254,153,255,243,20,196,29,1,144,198,200,0,1,68,192,60,253,6,134,244,2,40,47,235,255,254,255,243,20,196,33,1,224,198,196,40,1,68,192,161,24,183,255,179,47,175,84,66,42,70,255,243,20,196,36,3,233,38,148,0,4,26,192,96,224,45,255,203,152,255,213,8,197,191,255,243,20,196,31,4,137,38,220,120,1,198,214,255,254,64,226,85,71,14,36,239,252,87,255,243,20,196,23,2,56,102,200,48,0,12,20,254,177,85,216,66,191,253,110,79,223,44,255,243,20,196,25,1,208,190,180,0,1,196,192,40,255,43,135,127,239,254,68,147,4,85,255,243,20,196,28,2,32,94,184,8,0,4,18,22,255,226,194,226,191,138,138,11,126,42,255,243,20,196,30,2,56,94,148,0,0,68,160,76,65,77,69,51,46,49,48,48,170,170,255,243,20,196,32,2,88,2,140,0,0,0,0,170,170,170,170,170,170,170,170,170,170,170,255,243,20,196,33,2,184,1,204,0,8,0,0,170,170,170,170,170,170,170,170,170,170,170])}},t.Audio={context:new AudioContext,async play(t,s){const i=await this.context.decodeAudioData(t.slice()),h=this.context.createGain();h.connect(this.context.destination),h.gain.value=s?.volume||.5;const e=this.context.createBufferSource();e.buffer=i,e.connect(h),e.loop=!1,e.start()}},t._={Y:{},V:{},Z:{},init(){document.body.onkeydown=t=>{const s=this.Z[t.code];s&&s.$||(this.Z[t.code]={time:Date.now()},this.Y[t.code]&&this.Y[t.code].forEach(t=>t()))},document.body.onkeyup=t=>{this.Z[t.code]={time:0},this.V[t.code]&&this.V[t.code].forEach(t=>t())}},tt(t,s){for(const i of t)if(this.st(i,s))return!0;return!1},st(t,s){const i=this.Z[t];return!(!i||!i.time)&&(s&&(i.time=0,i.$=!0),!0)},it(t,s){const i=this.Y[t]||[];i.push(s),this.Y[t]=i},H(t,s){const i=this.V[t]||[];i.push(s),this.V[t]=i}},t.S=class{constructor(){this.C=0,this.ht=new t.et(this),this.nt=new t.rt(this),this.ot=new t.ct(this)}draw(t){this.ht.draw(t),this.ot.draw(t),this.nt.draw(t)}ut(t,s,i){return t>=i.x&&t<=i.x+i.w&&s>=i.y&&s<=i.y+i.M}L(t,s){}update(t){this.C+=t,this.ht.update(this.C),this.ot.update(this.C),this.nt.update(this.C)}},t.lt=class{dt=!0;constructor(s,i,h){this.level=s,this.w=i,this.M=h,[this.p,this.A]=t.m.D(i,h)}wt(){return Math.round((t.w-this.w)/2)}draw(t){}update(t){}},t.et=class extends t.lt{constructor(t){super(t,800,800),this.p,this.A}ft(t){return Math.round((this.w-t)/2)}Mt(t){let s=260,i=this.ft(t)-20;this.A.fillStyle="#000",this.A.beginPath(),this.A.moveTo(i,s),this.A.lineTo(i,160),this.A.lineTo(i+80,s),this.A.closePath(),this.A.fill(),this.A.beginPath(),this.A.moveTo(this.w-i,s),this.A.lineTo(this.w-i-80,s),this.A.lineTo(this.w-i,160),this.A.closePath(),this.A.fill()}_t(t){let s=this.ft(t);const i=t/2;let h=410;this.A.strokeStyle="#000",this.A.lineWidth=6,this.A.beginPath(),this.A.moveTo(s,h),this.A.lineTo(s-100,400),this.A.moveTo(s,420),this.A.lineTo(s-100,420),this.A.moveTo(s,430),this.A.lineTo(s-100,440),this.A.moveTo(this.w-s,h),this.A.lineTo(this.w-s+100,400),this.A.moveTo(this.w-s,420),this.A.lineTo(this.w-s+100,420),this.A.moveTo(this.w-s,430),this.A.lineTo(this.w-s+100,440),this.A.stroke();this.A.strokeStyle="#fff",this.A.lineWidth=4,this.A.beginPath(),this.A.ellipse(s+i-22,440,22,16,0,0,.9*Math.PI),this.A.stroke(),this.A.beginPath(),this.A.ellipse(s+i+22,440,22,16,0,.1*Math.PI,Math.PI),this.A.stroke();let e=380,a=40,n=30;this.A.fillStyle="#ff0",this.A.beginPath(),this.A.ellipse(s+.15*t,e,a,n,0,0,2*Math.PI),this.A.ellipse(s+.85*t,e,a,n,0,0,2*Math.PI),this.A.fill(),a=35,n=25,this.A.fillStyle="#000",this.A.beginPath(),this.A.ellipse(s+.16*t,390,a,n,0,0,2*Math.PI),this.A.ellipse(s+.84*t,390,a,n,0,0,2*Math.PI),this.A.fill()}St(){let t=220;this.A.fillStyle="#6a267a",this.A.beginPath(),this.A.moveTo(0,320),this.A.lineTo(150,t),this.A.lineTo(250,t),this.A.lineTo(320,20),this.A.lineTo(this.w-100,70),this.A.lineTo(this.w-300,120),this.A.lineTo(this.w-250,t),this.A.lineTo(this.w-150,t),this.A.lineTo(this.w,320),this.A.closePath(),this.A.fill(),this.A.fillStyle="#54245f",this.A.beginPath(),this.A.moveTo(240,250),this.A.lineTo(256,190),this.A.lineTo(this.w-260,190),this.A.lineTo(this.w-240,250),this.A.closePath(),this.A.fill()}draw(s){if(this.dt){const t=.4*this.w;this.A.fillStyle="#000",this.A.fillRect(this.ft(t),250,t,this.M-250),this._t(t),this.St(),this.Mt(t)}s.drawImage(this.p,this.wt(),t.M-this.level.ot.M-this.M/2)}update(t){}},t.rt=class extends t.lt{constructor(t){super(t,800,600),this.p,this.A}vt(){this.A.fillStyle="#000",this.A.beginPath(),this.A.ellipse(210,130,32,40,0,0,2*Math.PI),this.A.ellipse(this.w-210,130,32,40,0,0,2*Math.PI),this.A.fill()}draw(s){this.dt&&this.vt(),s.drawImage(this.p,this.wt(),t.M-this.level.ot.M)}update(t){}},t.ct=class extends t.lt{constructor(t){super(t,800,650),this.p,this.A,this.Tt="#074"}gt(t,s){s+=.08*this.M,this.A.fillStyle=this.Tt,this.A.beginPath(),this.A.ellipse(t,s,.36*this.w,.14*this.M,0,0,2*Math.PI),this.A.fill()}draw(s){if(this.dt){this.dt=!1;let s=this.w/2,i=.2*this.M+2,h=[0,0,2*Math.PI];const e=this.A.createRadialGradient(s,i+.37*this.M,.14*this.M,s,i+.37*this.M,.82*this.M);e.addColorStop(0,"#777"),e.addColorStop(1,"#555"),this.A.strokeStyle="#555",this.A.lineWidth=4,this.A.fillStyle=e,this.A.beginPath(),this.A.ellipse(s,i+.33*this.M,.5*this.w,.47*this.M,...h),this.A.fill(),this.A.beginPath(),this.A.ellipse(s,i,.45*this.w,.2*this.M,...h),this.A.fill(),this.A.stroke(),this.A.fillStyle="#555",this.A.beginPath(),this.A.ellipse(s,i-.01*this.M,.39*this.w,.15*this.M,...h),this.A.fill(),this.A.save(),this.A.clip(),this.gt(s,i),this.A.restore(),t.m.X(this.p,this.A)}s.drawImage(this.p,this.wt(),t.M-this.M+100)}update(t){}};