new AudioContext;const b={t:'"Courier New", monospace',i:"Arial, sans-serif",h:'"Times New Roman", serif',o:60,l:"js13k 2025: Black Cat",init(){b.u.init(),b.p.init(),b.p.level=new b.m,b.p.v()},S:(b,a,t)=>b*(1-t)+a*t,T(){const b=localStorage.getItem("2025_sd.save");return b?JSON.parse(b):null},_(b){localStorage.setItem("2025_sd.save",JSON.stringify({level:b}))}};window.addEventListener("load",()=>b.init()),b.p={C:null,M:null,N:null,P:null,level:null,cursor:[-1,-1],A:!1,O:0,F:0,k:[0,0],offset:[0,0],scale:1,G:0,I:0,K(){if(this.cursor[0]<0)return;let[b,a]=this.U();const t=this.D.w,s=this.D.R;b=Math.round(b-t/2),a=Math.round(a-s/6),this.D.draw(this.P,b,a)},clear(){this.N.setTransform(1,0,0,1,0,0),this.N.clearRect(0,0,window.innerWidth,window.innerHeight),this.P.setTransform(1,0,0,1,0,0),this.P.clearRect(0,0,window.innerWidth,window.innerHeight)},draw(){this.clear(),this.N.setTransform(this.scale,0,0,this.scale,this.G,this.I),this.P.setTransform(this.scale,0,0,this.scale,0,0),this.level?.draw(this.N),this.K()},J(){this.P.setTransform(1,0,0,1,0,0),this.P.clearRect(0,0,window.innerWidth,window.innerHeight),this.P.setTransform(this.scale,0,0,this.scale,0,0),this.P.fillStyle="#0006",this.P.fillRect(0,0,this.M.width/this.scale,this.M.height/this.scale),this.P.fillStyle="#fff",this.P.font="600 56px "+b.i,this.P.textAlign="center",this.P.textBaseline="top",this.P.fillText("PAWSED",this.k.x,this.k.y-56)},L(b,a){const t=document.createElement("canvas");t.width=b,t.height=a;const s=t.getContext("2d",{alpha:!0});return s.imageSmoothingEnabled=!1,[t,s]},U(){return this.cursor.map(b=>b/this.scale)},init(){[this.C,this.N]=this.L(),[this.M,this.P]=this.L(),this.C.style.zIndex=1,this.M.style.zIndex=10,document.body.append(this.C,this.M),this.D=b.X.W.cursor,this.D.Y(),this.j()},v(a=0){if(a&&this.O){const t=(a-this.O)/(1e3/b.o);if(this.N.imageSmoothingEnabled=!1,this.P.imageSmoothingEnabled=!1,this.A)return void this.J();this.F+=t,this.level.update(t),this.draw(),this.P.fillStyle="#fff",this.P.font="600 12px "+b.t,this.P.textAlign="left",this.P.fillText(String(Math.round(b.o/t)).padStart(3,"0")+" FPS, "+this.scale.toFixed(5),10,20)}this.O=a,requestAnimationFrame(b=>this.v(b))},pause(){this.A=!0},j(){window.addEventListener("resize",b=>this.resize()),this.resize(),b.u.q("Escape",()=>this.B()),this.M.addEventListener("mouseleave",b=>{this.cursor[0]=-1}),this.M.addEventListener("mousemove",b=>{this.cursor[0]=b.clientX-this.offset[0],this.cursor[1]=b.clientY-this.offset[1]}),this.M.addEventListener("click",b=>{this.cursor[0]=b.clientX-this.offset[0],this.cursor[1]=b.clientY-this.offset[1],this.level?.H(...this.U())})},resize(){const b=1920/1080;let a=window.innerHeight,t=Math.round(a*b);t>window.innerWidth&&(t=window.innerWidth,a=t/b),this.scale=a/1080,this.k.x=t/2/this.scale,this.k.y=a/2/this.scale;let s=Math.round((window.innerHeight-a)/2),i=Math.round((window.innerWidth-t)/2);this.C.width=t,this.C.height=a,this.C.style.top=s+"px",this.C.style.left=i+"px",this.M.width=t,this.M.height=a,this.M.style.top=s+"px",this.M.style.left=i+"px",this.offset=[i,s],this.A&&(clearTimeout(this.V),this.V=setTimeout(()=>this.J(),100))},B(){this.A?this.unpause():this.pause()},unpause(){this.A&&(this.A=!1,this.v())}},b.Z=class{constructor(a){this.options=a,this.options.scale??=1,[this.C,this.N]=b.p.L(this.options.w,this.options.R)}get w(){return this.options.w*this.options.scale}get R(){return this.options.R*this.options.scale}draw(b,a,t){b.drawImage(this.C,a,t,this.w,this.R)}Y(){if(this.$)return;if(this.$=!0,this.options.Y)return void this.options.Y.call(this,this.N,this.options.w,this.options.R);const b=this.N.createImageData(this.options.w,this.options.R);for(let a=0;a<this.options.data.length;a++){const t=this.options.data[a],s=this.options.bb[t];let i=0,h=0,e=0,n=0;s&&([i,h,e,n]=s),b.data[4*a+0]=i,b.data[4*a+1]=h,b.data[4*a+2]=e,b.data[4*a+3]=n}this.N.putImageData(b,0,0)}},b.X={ab:{tb:new Uint8Array([255,243,132,196,0,0,0,0,0,0,0,0,0,88,105,110,103,0,0,0,15,0,0,0,26,0,0,3,192,0,8,8,8,16,16,16,16,32,32,32,32,40,40,40,40,56,56,56,56,72,72,72,72,80,80,80,96,96,96,96,104,104,104,104,120,120,120,120,136,136,136,136,144,144,144,144,152,152,152,160,160,160,160,168,168,168,168,176,176,176,176,184,184,184,184,192,192,192,192,200,200,200,200,208,208,208,216,216,216,216,224,224,224,224,232,232,232,232,240,240,240,240,248,248,248,248,255,255,255,0,0,0,57,76,65,77,69,51,46,49,48,48,2,30,0,0,0,0,0,0,0,0,20,8,36,3,200,34,0,0,8,0,0,3,192,229,212,162,251,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,243,20,196,0,2,128,6,80,0,0,132,0,88,62,250,4,255,229,63,63,254,32,201,255,243,20,196,1,2,168,190,152,0,0,68,160,7,22,70,255,255,169,133,167,252,186,111,255,243,36,196,1,6,49,30,160,40,3,206,193,7,200,74,210,255,55,255,246,83,197,64,32,35,27,9,13,255,253,88,108,53,27,158,94,56,0,48,81,127,252,249,205,216,193,49,255,243,20,196,11,5,96,202,188,0,1,88,200,48,63,16,203,108,245,12,1,144,104,202,255,243,36,196,0,6,57,6,180,0,1,218,177,231,158,32,5,234,233,255,247,112,120,36,3,192,128,64,0,176,36,83,255,234,156,70,254,55,96,64,36,3,132,153,127,144,210,127,255,243,36,196,10,6,73,14,216,120,0,76,173,245,66,87,155,9,175,255,255,133,230,230,214,145,193,185,42,106,210,37,3,182,73,5,156,241,185,46,114,155,86,95,175,52,51,255,255,243,20,196,19,6,80,206,208,120,3,78,167,240,200,193,142,38,185,170,12,82,128,100,255,243,36,196,4,6,8,210,180,88,3,94,206,241,74,153,53,15,255,208,122,81,132,232,127,190,62,29,5,187,158,33,10,213,12,67,224,98,168,63,101,109,255,245,59,50,73,7,255,243,20,196,14,6,17,34,164,88,3,68,209,65,58,127,164,253,31,138,28,88,118,213,255,243,36,196,0,6,25,34,180,88,3,78,195,28,194,128,86,62,129,206,112,93,191,254,170,62,97,200,4,136,127,111,111,83,134,195,97,74,8,143,12,59,224,186,140,214,70,154,255,243,36,196,10,5,216,210,144,80,4,222,204,127,254,203,69,42,5,50,39,28,176,38,77,242,85,38,29,195,214,182,255,255,240,80,70,196,144,79,95,255,255,128,53,42,168,58,255,243,20,196,21,2,128,206,168,32,3,88,204,20,191,255,255,145,125,85,12,102,7,138,255,243,20,196,22,2,8,206,176,0,1,210,204,127,255,250,145,136,200,149,136,128,5,255,255,243,20,196,24,2,8,206,176,0,3,86,204,255,245,97,18,136,2,183,255,255,226,234,255,243,20,196,26,2,144,202,176,32,2,146,204,12,33,66,255,255,255,168,138,68,51,224,255,243,20,196,26,1,248,202,192,0,1,76,204,102,253,127,255,241,172,33,127,255,254,153,255,243,20,196,29,1,144,198,200,0,1,68,192,60,253,6,134,244,2,40,47,235,255,254,255,243,20,196,33,1,224,198,196,40,1,68,192,161,24,183,255,179,47,175,84,66,42,70,255,243,20,196,36,3,233,38,148,0,4,26,192,96,224,45,255,203,152,255,213,8,197,191,255,243,20,196,31,4,137,38,220,120,1,198,214,255,254,64,226,85,71,14,36,239,252,87,255,243,20,196,23,2,56,102,200,48,0,12,20,254,177,85,216,66,191,253,110,79,223,44,255,243,20,196,25,1,208,190,180,0,1,196,192,40,255,43,135,127,239,254,68,147,4,85,255,243,20,196,28,2,32,94,184,8,0,4,18,22,255,226,194,226,191,138,138,11,126,42,255,243,20,196,30,2,56,94,148,0,0,68,160,76,65,77,69,51,46,49,48,48,170,170,255,243,20,196,32,2,88,2,140,0,0,0,0,170,170,170,170,170,170,170,170,170,170,170,255,243,20,196,33,2,184,1,204,0,8,0,0,170,170,170,170,170,170,170,170,170,170,170])},W:{sb:new b.Z({w:400,R:600,Y:(b,a,t)=>{b.fillStyle="#6b5326",b.fillRect(0,0,a,t)}}),ib:new b.Z({data:"                                                                                   bbbbbbbbbbb                                        bbbbbbbbbbb bbbbbbbbbbbb                                       bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb                              bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb          bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb        bbbbbaaaaaabbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb        bbbbbaabbbaaaaaaaaaaaaaaaaabbbbbbbbbbbbbbbbbbbbbbbbbbbbb       bbbbbbbaaabaaabbbbbbbbbbbbbaaaaaaaaaaaaaaaaaaaaaaabbbbbbb       bbbbbbbbbaaabbbbbbbbbbbbbabbbbbbbbbbbbbbbbbbbbbbbaabbbbbb       bbbbbbbbbaabbbbbbbbbbbbbbaabbbbbbbbbbbbbbbbbbbbbbbaaabbbb       bbbbbbbbbabbbbbbbbbbabbbbbaabbbbbbbbbbbbbbbbbbbbbbbbaaabb       bbbbbbbbbabbbbbbbbbbaaabbbbabbbbbbbbbbbbbbbbbbbbbbbbbbabb       bbbbbbbbaabbbbbbbbbbbbaaabbabbbbbbbbbbbbbbbbbbbbbbbbbbabbbbb    bbbbbaababbbbbbbbbbbbbbbaaaabbbbbbbbbbbbbbbbbbbbbbbbbbaabbbb    bbbbbbaaabbbbbbbbbbbbbbbbbaabbbbbbbbbbbbbbbbbbbbbbabbbbabbbb    bbbbabbaabbaabbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbaabbbabbbb    bbbbaaaaabbbaaaabbaabbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbabbbabbbb    bbbbbbbbabbbbbbbbbbaaaaaabbbbbbbbbbbbbbbbbbbbbbbbbbabbbabbbb    bbbbaaaaabbbbbbbbbbbbbbbbbaaaaaabbbbbbbbbbbbbbbbbbbabbbabbbb    bbbbbbbbabbbbbbbbbbbbbbbbbabbbbbbbbbbbbbbbbbbbbbbbbabbbabbbb    bbbbbbbaaabbbbbbbbbbbbbbbbaaabbbbbbbbbbbbbbbbbbbbbaabbbabbbb    bbbbbbbaaaaaabbbbbbbbbbbbaaaaaaabbbbbbbbbbbbbbbbbaabbbbabbbb         baabbbbaaabbbbbbbbbbbbaabbbbbbbbbbbbbbaaaaaaabbbbaabbbb         baabbbbbbabbbbbbbbbbbbbaabbbbbbbbbbaaaabbbbbbbbbbabbbb          bbaaabbbbaaaaaabbbbbbbbbbbbbbbbbbbaabbbbbbbbbbbbaabbbb          bbbbaaabbaabbbaaabbbbbbbbbbbbbbbbbabbbbbbbbbbbaaabbbb           bbbbbbaaababbbbaaabbbbbbbbbbbbbbbbaaaaaaaaaaaaabbbbbb           bbbbbbbbbbaaabbbaaaaaaaaabbbbbbbbaaaaaaaaaaabbbbbbbb            bbbbbbbbbbbbaaaaabbbbbbbaaaaaaaaaabbbbbbbbbbbbbbbbbb            bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb                     bbbbbbbbbb        bbbbbbbbbb                       ",bb:{a:[255,255,255,255],b:[0,0,0,255]},w:64,R:32,scale:2}),cursor:new b.Z({w:20,R:30,Y:(b,a,t)=>{b.fillStyle="#000",b.fillRect(0,0,a,t),b.fillStyle="#fff";const s=Math.round(a/4),i=Math.round(t/3);b.fillRect(s,0,2,i),b.fillRect(2*s,0,2,i),b.fillRect(3*s,0,2,i)}})}},b.Audio={context:new AudioContext,async play(b,a){const t=await this.context.decodeAudioData(b.slice()),s=this.context.createGain();s.connect(this.context.destination),s.gain.value=a?.volume||.5;const i=this.context.createBufferSource();i.buffer=t,i.connect(s),i.loop=!1,i.start()}},b.u={hb:{},eb:{},nb:{},init(){document.body.onkeydown=b=>{const a=this.nb[b.code];a&&a.rb||(this.nb[b.code]={time:Date.now()},this.hb[b.code]&&this.hb[b.code].forEach(b=>b()))},document.body.onkeyup=b=>{this.nb[b.code]={time:0},this.eb[b.code]&&this.eb[b.code].forEach(b=>b())}},ob(b,a){for(const t of b)if(this.lb(t,a))return!0;return!1},lb(b,a){const t=this.nb[b];return!(!t||!t.time)&&(a&&(t.time=0,t.rb=!0),!0)},cb(b,a){const t=this.hb[b]||[];t.push(a),this.hb[b]=t},q(b,a){const t=this.eb[b]||[];t.push(a),this.eb[b]=t}},b.m=class{constructor(){this.F=0,this.ub=new b.wb(500,500,b.X.W.ib,this),this.background=[new b.fb(300,300,b.X.W.sb,this)],this.pb=[this.ub],this.mb=[],this.gb=[{n:"Window",x:1700,y:100,w:200,R:150},{n:"Cauldron",x:900,y:600,w:400,R:300}]}xb(b){b.fillStyle="#123349",b.fillRect(0,0,1920,1080),b.fillStyle="#41403f",b.fillRect(0,900,1920,180)}draw(b){this.xb(b),this.background.forEach(a=>a.draw(b)),this.pb.forEach(a=>a.draw(b)),this.mb.forEach(a=>a.draw(b)),this.gb.forEach(a=>{b.strokeStyle="#fff",b.strokeRect(a.x,a.y,a.w,a.R)})}yb(b,a,t){return b>=t.x&&b<=t.x+t.w&&a>=t.y&&a<=t.y+t.R}H(b,a){const t=this.gb.find(t=>this.yb(b,a,t));t&&this.ub.moveTo(t)}update(b){this.F+=b,this.background.forEach(b=>b.update(this.F)),this.pb.forEach(b=>b.update(this.F)),this.mb.forEach(b=>b.update(this.F))}},b.fb=class{C=null;N=null;parent=null;children=[];constructor(b,a,t,s){this.level=s,this.Sb=t,this.x=b,this.y=a,this.Y()}get R(){return this.Sb.R}get w(){return this.Sb.w}draw(b){this.Sb.draw(b,this.Tb(),this._b())}Tb(){return(this.parent?.Tb()||0)+this.x}_b(){return(this.parent?._b()||0)+this.y}Y(){this.Sb.Y()}update(b){}},b.wb=class extends b.fb{Cb=null;animation=null;moveTo(a){this.Cb===a||this.animation||(this.Cb=a,this.animation={start:{x:this.x,y:this.y},target:{x:a.x+(a.w-this.w)/2,y:a.y+a.R-this.R},Mb:this.level.F,apply(a,t){const s=(t-this.Mb)/b.o;return s>=1?(a.x=this.target.x,a.y=this.target.y,!0):(a.x=b.S(this.start.x,this.target.x,s),a.y=b.S(this.start.y,this.target.y,s),!1)}})}update(b){this.animation?.apply(this,b)&&(this.animation=null)}};